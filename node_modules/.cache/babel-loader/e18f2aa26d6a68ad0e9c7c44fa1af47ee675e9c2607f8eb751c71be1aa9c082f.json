{"ast":null,"code":"var _jsxFileName = \"D:\\\\\\u0424\\u0430\\u043A\\u0443\\u043B\\u0442\\u0435\\u0442\\\\petti semestar\\\\DAS\\\\Homework1\\\\HomeWork2\\\\prototip\\\\msa_frontend\\\\src\\\\Predictions.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Select from 'react-select';\nimport { Line } from 'react-chartjs-2';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Predictions = () => {\n  _s();\n  const [tickers, setTickers] = useState([]);\n  const [selectedTicker, setSelectedTicker] = useState(null);\n  const [chartData, setChartData] = useState(null);\n  const [finalPrediction, setFinalPrediction] = useState(null);\n  useEffect(() => {\n    fetch('http://localhost:8081/api/tickers').then(response => response.json()).then(data => {\n      console.log(\"Tickers fetched:\", data);\n      const options = (data.content || []).map(ticker => ({\n        value: ticker.tickerId,\n        // Unique value\n        label: ticker.tickerName // Display name\n      }));\n      setTickers(options); // Set options for dropdown // Extract content property\n    }).catch(error => console.error(\"Error fetching tickers:\", error));\n  }, []);\n  const handleTickerChange = selectedOption => {\n    setSelectedTicker(selectedOption);\n\n    // Call the backend for prediction\n    axios.post('http://localhost:8081/api/predict', {\n      ticker: selectedOption.value\n    }).then(response => {\n      const data = response.data;\n      setFinalPrediction(data.final_prediction);\n      setChartData({\n        labels: Array.from({\n          length: data.actual_prices.length\n        }, (_, i) => i + 1),\n        datasets: [{\n          label: 'Actual Prices',\n          data: data.actual_prices,\n          borderColor: 'blue',\n          fill: false\n        }, {\n          label: 'Predicted Prices',\n          data: data.predicted_prices,\n          borderColor: 'green',\n          fill: false\n        }]\n      });\n    }).catch(error => console.error('Error fetching predictions:', error));\n  };\n  console.log(tickers);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Stock Price Predictions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Select, {\n      options: tickers,\n      onChange: handleTickerChange,\n      placeholder: \"Select a Ticker\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), chartData && /*#__PURE__*/_jsxDEV(Line, {\n      data: chartData,\n      options: {\n        responsive: true,\n        maintainAspectRatio: false\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }, this), finalPrediction && /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Final Predicted Price: $\", finalPrediction.toFixed(2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 33\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n};\n_s(Predictions, \"tbnKN/Y4n4VhriTs1rTOyTeJbDY=\");\n_c = Predictions;\nexport default Predictions;\nvar _c;\n$RefreshReg$(_c, \"Predictions\");","map":{"version":3,"names":["React","useState","useEffect","Select","Line","axios","jsxDEV","_jsxDEV","Predictions","_s","tickers","setTickers","selectedTicker","setSelectedTicker","chartData","setChartData","finalPrediction","setFinalPrediction","fetch","then","response","json","data","console","log","options","content","map","ticker","value","tickerId","label","tickerName","catch","error","handleTickerChange","selectedOption","post","final_prediction","labels","Array","from","length","actual_prices","_","i","datasets","borderColor","fill","predicted_prices","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","placeholder","responsive","maintainAspectRatio","toFixed","_c","$RefreshReg$"],"sources":["D:/Факултет/petti semestar/DAS/Homework1/HomeWork2/prototip/msa_frontend/src/Predictions.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport Select from 'react-select';\r\nimport {Line} from 'react-chartjs-2';\r\nimport axios from 'axios';\r\n\r\nconst Predictions = () => {\r\n    const [tickers, setTickers] = useState([]);\r\n    const [selectedTicker, setSelectedTicker] = useState(null);\r\n    const [chartData, setChartData] = useState(null);\r\n    const [finalPrediction, setFinalPrediction] = useState(null);\r\n    useEffect(() => {\r\n        fetch('http://localhost:8081/api/tickers')\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(\"Tickers fetched:\", data);\r\n                const options = (data.content || []).map(ticker => ({\r\n                    value: ticker.tickerId, // Unique value\r\n                    label: ticker.tickerName, // Display name\r\n                }));\r\n                setTickers(options); // Set options for dropdown // Extract content property\r\n            })\r\n            .catch(error => console.error(\"Error fetching tickers:\", error));\r\n\r\n    }, []);\r\n\r\n\r\n    const handleTickerChange = (selectedOption) => {\r\n        setSelectedTicker(selectedOption);\r\n\r\n        // Call the backend for prediction\r\n        axios\r\n            .post('http://localhost:8081/api/predict', {ticker: selectedOption.value})\r\n            .then(response => {\r\n                const data = response.data;\r\n                setFinalPrediction(data.final_prediction);\r\n                setChartData({\r\n                    labels: Array.from({length: data.actual_prices.length}, (_, i) => i + 1),\r\n                    datasets: [\r\n                        {\r\n                            label: 'Actual Prices',\r\n                            data: data.actual_prices,\r\n                            borderColor: 'blue',\r\n                            fill: false,\r\n                        },\r\n                        {\r\n                            label: 'Predicted Prices',\r\n                            data: data.predicted_prices,\r\n                            borderColor: 'green',\r\n                            fill: false,\r\n                        }\r\n                    ]\r\n                });\r\n            })\r\n            .catch(error => console.error('Error fetching predictions:', error));\r\n    };\r\n    console.log(tickers)\r\n\r\n    return (\r\n        <div>\r\n            <h1>Stock Price Predictions</h1>\r\n\r\n            <Select\r\n                options={tickers}\r\n                onChange={handleTickerChange}\r\n                placeholder=\"Select a Ticker\"\r\n            />\r\n            {chartData && (\r\n                <Line\r\n                    data={chartData}\r\n                    options={{responsive: true, maintainAspectRatio: false}}\r\n                />\r\n            )}\r\n            {finalPrediction && <h3>Final Predicted Price: ${finalPrediction.toFixed(2)}</h3>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Predictions;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}